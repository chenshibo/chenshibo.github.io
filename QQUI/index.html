<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>QQ</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<link href="SUI/sm.min.css" rel="stylesheet" />
		<style type="text/css">
			#btn-title {
				width: 35%;
				margin: 0 auto;
			}
			
			#ab-page,
			#msg-page,
			#dt-page {
				animation: none !important;
				-webkit-animation: none !important;
			}
			
			#self-info img {
				width: 3rem;
				height: 3rem;
				border-radius: 50%;
				float: left;
			}
			
			#self-name {
				float: left;
			}
			
			#self-ul {
				background: none;
			}
			
			#self-ul:before {
				content: none !important;
			}
			
			#self-ul:after {
				content: none !important;
			}
			
			#self-ul>li>div:after {
				content: none !important;
			}
			
			#bottom-menu {
				font-size: 0.8rem;
			}
		</style>
	</head>

	<body>

		<div class="page-group">

			<!--消息页面-->
			<div class="page page-current " id="msg-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left open-panel" date-panel='#info-panel'></a>
					<a class="pull-right  icon">十</a>
					<div class="buttons-row" id="btn-title">
						<a href="" class="tab-link button active">消息</a>
						<a href="" class="tab-link button">电话</a>
					</div>
				</header>

				<!--工具栏-->

				<nav class="bar bar-tab">
					<a class="tab-item active">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
						<span class="badge">99+</span>
					</a>
					<a class="tab-item " href="#ab-page">
						<span class="icon icon-friends"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item" href="#dt-page">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>

				<div class="bar bar-header-secondary">
					<div class="searchbar">
						<a class="searchbar-cancel">取消</a>
						<div class="search-input">
							<label class="icon icon-search" for="search"></label>
							<input type="search" id='search' placeholder='输入关键字...' />
						</div>
					</div>
				</div>

				<!--页面内容-->

				<div class="content">
					<div class="content-block">
						<div class="list-block contacts-block">
							<div class="list-group">
								<ul>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题1</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题2</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题3</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题4</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题5</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题6</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题7</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题8</div>
											</div>
										</div>
									</li>
								</ul>
							</div>
							
						</div>
					</div>
				</div>

			</div>

			<!--联系人页面-->

			<div class="page" id="ab-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left open-panel" date-panel='#info-panel'></a>
					<button class="button button-link button-nav pull-right">添加</button>
					<h1 class="title">联系人</h1>
				</header>

				<nav class="bar bar-tab">
					<a class="tab-item" href="#msg-page">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
						<span class="badge">99+</span>
					</a>
					<a class="tab-item active">
						<span class="icon icon-friends active"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item" href="#dt-page">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>
				<div class="bar bar-header-secondary">
					<div class="searchbar">
						<a class="searchbar-cancel">取消</a>
						<div class="search-input">
							<label class="icon icon-search" for="search"></label>
							<input type="search" id='search' placeholder='输入关键字...' />
						</div>
					</div>
				</div>

				<!--页面内容-->
				<div class="content">
					<div class="content-block">
						<div class="content">
					<div class="content-block">
						<div class="list-block contacts-block">
							<div class="list-group">
								<ul>
									<li class="list-group-title" onclick="openclose(event)" style="color: darkgray;">我的好友</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题1</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题2</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题3</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题4</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题5</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题6</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题7</div>
											</div>
										</div>
									</li>
									<li>
										<div class="item-content">
											<div class="item-inner">
												<div class="item-title">标题8</div>
											</div>
										</div>
									</li>
								</ul>
							</div>
							
						</div>
					</div>
				</div>
					</div>
				</div>

			</div>

			<!--动态页面-->

			<div class="page" id="dt-page">
				<!--导航栏-->
				<header class="bar bar-nav">
					<a class="icon icon-me pull-left open-panel" date-panel='#info-panel'></a>
					<button class="button button-link button-nav pull-right">更多</button>
					<h1 class="title">动态</h1>
				</header>

				<!--工具栏-->

				<nav class="bar bar-tab">
					<a class="tab-item" href="#msg-page">
						<span class="icon icon-message"></span>
						<span class="tab-label">消息</span>
						<span class="badge">99+</span>
					</a>
					<a class="tab-item" href="#ab-page">
						<span class="icon icon-friends"></span>
						<span class="tab-label">联系人</span>
					</a>
					<a class="tab-item active">
						<span class="icon icon-star"></span>
						<span class="tab-label">动态</span>
					</a>
				</nav>
				<div class="bar bar-header-secondary">
					<div class="searchbar">
						<a class="searchbar-cancel">取消</a>
						<div class="search-input">
							<label class="icon icon-search" for="search"></label>
							<input type="search" id='search' placeholder='输入关键字...' />
						</div>
					</div>
				</div>

				<!--页面内容-->

				<div class="content">
					<div class="content-block">
						动态
					</div>
				</div>
			</div>

			<!--侧边栏-->
			<div class="panel panel-left panel-reveal theme-white" id="info-panel">
				<div class="content-block ">
					<div id="self-info">
						<img src="img/head.jpg" id="self-head" />
						<span id="self-name">我的昵称</span>
						<br />

						<div id="self-level">
						</div>
						<div style="clear: both;"></div>

						<p>今天捡了100块钱</p>
						<!--列表-->
						<div class="list-block">

							<ul id="self-ul">
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-gift"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">我的超级会员</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-picture"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">QQ钱包</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-app"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">个性装扮</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-star"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">我的收藏</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-picture"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">我的相册</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-code"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">我的文件</div>
									</div>
								</li>
								<li class="item-content">
									<div class="item-media">
										<i class="icon icon-code"></i>
									</div>
									<div class="item-inner">
										<div class="item-title">我的文件</div>
									</div>
								</li>
							</ul>

						</div>

						<div class="row" id="bottom-menu">
							<div class="col-33">
								<a class="button-link">
									<i class="icon icon-settings">设置</i>
								</a>
							</div>
							<div class="col-33">
								<a class="button-link" id="night-shift-btn">
									<i class="icon icon-star">夜间</i>
								</a>
							</div>
							<div class="col-33">
								<a class="button-link">
									郑州<sup>18℃</sup>
								</a>
							</div>

						</div>
					</div>
				</div>
			</div>

			<!---->
		</div>
	</body>

	<script src="SUI/zepto.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="SUI/sm.min.js" type="text/javascript" charset="utf-8"></script>

	<script>
		//URL第一个#后面的字符串是url的哈希值，hash不会随请求发送到服务器
		//仅仅是指导浏览器当页面加载完成时显示页面的哪个部分

		//window.location.hash可以访问当前页面的哈希值
		//window.onhashchange事件可以监听哈希的变化   

		

		$(document).on('pageInit', '#msg-page', function(e, pageID, $page) {
			console.log(111)
			document.title = '消息'
		});

		$(document).on('pageInit', '#ab-page', function(e, pageID, $page) {
			document.title = '联系人'
		});

		$(document).on('pageInit', '#dt-page', function(e, pageID, $page) {
			document.title = '动态'
		});

		

		var myLevel = 63;

		function refershlevel(level) {

			var levArray = [];

			while(level / 4 >= 1) {

				var remainder = level % 4;
				levArray.unshift(remainder)
				level = Math.floor(level / 4);
			}

			levArray.unshift(level);

			for(var i = 0; i < levArray.length; i++) {
				var picName;
				switch(levArray.length - i) {
					case 3:
						picName = 'sun.jpg';
						break;
					case 2:
						picName = 'moon.jpg';
						break;
					case 1:
						picName = 'star.jpg';
						break;
					default:
						break;
				}

				for(var j = 0; j < levArray[i]; j++) {

					$('<img/>').attr('src', 'img/' + picName)
						.css('width', '0.8rem')
						.css('height', '0.8rem')
						.appendTo($('#self-level'))
				}
			}
		}

		refershlevel(myLevel)

		$('#night-shift-btn').click(function() {
			$(document.body).toggleClass('theme-dark');
			$('#info-panel').toggleClass('theme-white');
		})
		
		
		function openclose(e) {
			if (e.target.isOpen) {
				$(e.target).nextAll('li')
						   .css('display','none')				
						 
				e.target.isOpen = false;
				
			} else{
				e.target.isOpen = true;
				$(e.target).nextAll('li')
						   .css('display','block')				
						 
			}
		
		}
		
		
		
		
		
		//初始化SUI
		$.init();
	</script>

</html>